<font face="Courier New">
<font size="3">
<!-- <font face="宋体"> -->

[toc]

# 第三章 基本数据类型
## 3.1 数字类型
### 3.1.2 整数类型(int)
#### 1. 整数类型的4种进制表示
- 例子：  
>1010,99,-217,0x9a,-0x89
- 4种进制表示:

| 进制种类 | 引导符号 |                 描述                  |
| :------: | :------: | :-----------------------------------: |
|  十进制  |    无    |        默认情况,例如:1010,-99         |
|  二进制  |  0b或0B  |    由字符0和1组成,例如:0b101,0B101    |
|  八进制  |  0o或0O  |    由字符0到7组成,例如:0o711,0O711    |
| 十六进制 |  0x或0X  | 由字符0到9、a到f、A到F组成,例如:OxABC |

<br>

### 3.1.3 浮点数类型(float)
#### 1. 定义
所有浮点数必须带有小数部分,小数部分可以是0
#### 2. 浮点数类型的2种表示

(1) 十进制表示
- 例子:  
>0.0,-77.,-2.17,3.1416

(2) 科学计数法
科学计数法使用字母e或E作为幂的符号,以10为基数,含义如下:
><'a'>e<'b'> = a*10^b
- 例子:  
>96e4,4.3e-3,9.6e5

<br>

### 3.1.4 复数类型
1. 复数的虚数部分通过后缀"J"或"j"来表示  
- 注意:
复数类型中实数和虚数部分的数值都为浮点数类型
- 例子:  
>12.3+4j,-5.6+7j,1.23e-4+5.67e+89j

<br>

## 3.2 数字类型的操作
### 3.2.1 内置的数值运算操作符
#### 1. 内置的数值运算操作符(共9个)

| 操作符 |                  描述                   |
| :----: | :-------------------------------------: |
| x + y  |                x与y之和                 |
| x - y  |                x与y之差                 |
| x * y  |                x与y之积                 |
| x / y  |                x与y之商                 |
| x // y | x与y之整数商,即不大于x与y之商的最大整数 |
| x % y  |       x与y之商的余数,也称为模运算       |
|   -x   |           x的负值,即 x * (-1)           |
|   +x   |            x本身,即 x * (1)             |
| x ** y |             x的y次幂,$x^y$              |

#### 2. 增强赋值操作符(+=,-=,*=,/=,//=,%=,**=)
- 例子:  
>x += y  等价于  x = x + y  

<br>

### 3.2.2 内置的数值运算函数
#### 1. 内置的数值运算函数(共6个)
|           函数            |                            描述                            |
| :-----------------------: | :--------------------------------------------------------: |
|          abs(x)           |                         x的绝对值                          |
|        divmod(x,y)        |        (x//y,x%y),输出为二元组形式(也称为元组类型)         |
|       pow(x,y[,z])        |    (x%%y)%z,[..]表示该参数可以省略,即pow(x,y)等价于x**y    |
|    round(x[,ndigits])     | 对x四舍五入,保留ndigits位小数;round(x)返回四舍五入的整数值 |
| max($x_1,x_2,\ldots,x_n$) |                $x_1,x_2,\ldots,x_n$的最大值                |
| min($x_1,x_2,\ldots,x_n$) |                $x_1,x_2,\ldots,x_n$的最小值                |

- 注意:
1. abs(x),x为复数,则复数的绝对值是复数位置到坐标原点的长度
- 例子:
```python
>>>abs(-3+4j)  
5.0 
```
2. pow(x,y[,z]),第三个参数z是可选的,使用该参数时,模运算与幂运算同时进行,加快运算速度
- 例子:  
求$3^{3^{999}}$的最后4位
```python
>>>pow(3,pow(3,999),10000) #幂运算和模运算同时运行,速度快  
4587
```

<br>

### 3.2.3 内置的数字类型转换函数
#### 1. 内置的数字类型转换函数(共3个)
|       函数       |                                                描述                                                 |
| :--------------: | :-------------------------------------------------------------------------------------------------: |
|      int(x)      |                                 将x转换为整数,x可以是浮点数或字符串                                 |
|     float(x)     |                                 将x转换为浮点数,x可以是整数或字符串                                 |
| complex(re[,im]) | 生成一个复数,实部为re,虚部为im;<br>re可以是整数、浮点数或字符串，im可以是整数或浮点数但不能为字符串 |

- 注意:
复数不能直接转换为其他数字类型,可以通过(.real和.imag)转换复数的实部和虚部

- 例子: 
```python 
>>>int(10.99)  
10  
>>>complex(10.99)  
(10.99 + 0j)  
>>>float((10 + 99j).imag)  
99.0
```

<br>

## 3.3 模块1:math库的使用
### 3.3.1 math库概述
#### 1. 叙述  
仅支持整数和浮点数的运算
#### 2. math库的引用
- (1) import math  
对math库中函数采用math.<>()形式使用,例如: 
```python 
import math  
math.ceil(10.2)

>>>
11  
```
- (2) from math import <函数名>  
对math库中函数可以直接采用<函数名>()形式使用,例如:
```python
from math import floor  
floor(10.2)

>>>
10  
```
- 注意:
from math import *,所有函数可以采用<函数名>()形式直接使用  

<br>

### 3.3.2 math库解析
#### 1. math库的数学常数(共4个)
|   常数   | 数学表达 |              描述              |
| :------: | :------: | :----------------------------: |
| math.pi  |  $\pi$   |             圆周率             |
|  math.e  |   $e$    |            自然对数            |
| math.inf | $\infty$ |  正无穷大,负无穷大为-math.inf  |
| math.nan |          | 非浮点数标记,NaN(Not a Number) |
#### 2. math库的数值表示函数(共16个)
|         常数         |      数学表达       |                    描述                     |
| :------------------: | :-----------------: | :-----------------------------------------: |
|     math.fabs(x)     |       $\|x\|$       |                返回x的绝对值                |
|    math.fmod(x,y)    |         x%y         |                返回x与y的模                 |
| math.fsum([x,y,...]) |       x+y+...       |               浮点数精确求和                |
|     math.ceil(x)     |  $\lceil$x$\rceil$  |                  向上取整                   |
|    math.floor(x)     | $\lfloor$x$\rfloor$ |                  向下取整                   |
|  math.factorial(x)   |         x!          |                 返回x的阶乘                 |
|    math.gcd(a,b)     |                     |            返回a与b的最大公约数             |
|    math.frepx(x)     |      x = m*2e       |        返回(m,e),当x=0时,返回(0.0,0)        |
|   math.ldexp(x,i)    |       x*$2^i$       |             返回 x*$2^i$ 运算值             |
|     math.modf(x)     |                     |          返回x的小数部分和整数部分          |
|    math.trune(x)     |  $\|x\|$*$\|y\|$/y  |               返回x的整数部分               |
|  math.copysign(x,y)  |                     |          用y的正负号替换x的正负号           |
|  math.isclose(a,b)   |                     |      比较a与b的相似性,返回True或False       |
|   math.isfinite(x)   |                     |      当x为无穷大时,返回True,否则,False      |
|    math.isinf(x)     |                     | 当x为正数或负数无穷大时,返回True,否则,False |
|    math.isnan(x)     |                     |     当x为NaN时,返回True,否则,返回False      |

<br>

## 3.5 字符串类型及其操作
### 3.5.1 字符串类型的表示
#### 1. 两种索引字符的方法:正向递增序号和反向递减序号
- 例子:
```python
name = "python语言程序设计"

>>>name[0]
'p'

>>>print(name[0],name[2:-4])
p ; thon语言

>>>print(name[:6],name[6:],name[:])
python ; 语言程序设计 ; python语言程序设计
```

<br>

### 3.5.2 基本的字符操作符
#### 1. 转义字符
| 操作符 |          描述           |
| :----: | :---------------------: |
|   \n   |          换行           |
|   \b   |     回退.向后退一格     |
|  \\'   |         单引号          |
|  \\"   |         双引号          |
|   \t   |       指标符(Tab)       |
|   \r   | 换行,光标移动到下行首行 |
|   \0   |     NULL,什么都不做     |
#### 2. 基本的字符串操作符(共5个)
|     操作符     |                          描述                           |
| :------------: | :-----------------------------------------------------: |
|     x + y      |                   连接两个字符串x与y                    |
| x * n 或 n * x |                     复制n次字符串x                      |
|     x in s     | 如果x是s的字串(x中的元素都在s内),返回True,否则返回False |
|     str[i]     |                   索引,返回第i个字符                    |
|    str[N:M]    |               索引,返回索引第N到第M个字符               |
- 例子:
```python
>>>"python语言" + "程序设计"
'python语言程序设计'

>>>"fuck" * 3
'fuck''fuck''fuck'
```

<br>

### 3.5.3 内置的字符串处理函数
#### 1. 内置的字符串处理函数（共6个）
|      函数      |                        描述                        |
| :------------: | :------------------------------------------------: |
|     len(x)     | 返回字符串x的长度,也可返回其他组和数据类型元素个数 |
|     str(x)     |          返回任意类型x所对应的字符串类型           |
|     chr(x)     |            返回Unicode编码x对应的单字符            |
|     ord(x)     |            返回单字符表示的Unicode编码             |
|     hex(x)     |      返回整数x对应十六进制数的小写形式字符串       |
|     oct(x)     |       返回整数x对应八进制数的小写形式字符串        |
| type(x)(重要!) |          返回x的类型,适用于所有类型的判断          |
- 例子:
```python
>>>"1 + 1 = 2" + chr(1004)
'1 + 1 = 2 √'

>>>hex(255)
'0xff'

>>>oct(-255)
'-0o377'

>>>type('123')
< class 'str' >
```
#### [微实例3.2]凯撒密码

<br>

### 3.5.4 内置的字符串处理方法
#### 1. 常用的字符串处理方法()
|             方法             |                             描述                              |
| :--------------------------: | :-----------------------------------------------------------: |
|         str.lower()          |                         全部字符小写                          |
|         str.upper()          |                         全部字符大写                          |
|        str.islower()         |               当str所有字符都是小写时,返回True                |
|       str.isnumeric()        |               当str所有字符都是数字时,返回True                |
| str.replace(old,new[,count]) | 所有old字串被替换为new,如果count给出,则前count次old出现被替换 |

<br>

## 3.6 字符串类型的格式化
### 3.6.1 format()方法的基本使用
#### 1. 字符串format()方法的基本使用格式如下:
<模板字符串>.format(<逗号分隔的参数>)
- 例子:
```python
>>>"{}{}{}".format("圆周率是","3.1415926","...")
'圆周率是3.1415926...'

>>>"圆周率{{{1}{2}}}是{0}".format("无理数","3.1415926","...")
'圆周率(3.1415926...)是无理数'

>>>s = "圆周率{{{1}{2}}}是{0}"
圆周率{{{1}{2}}}是{0}   #大括号本身是字符串的一部分

>>>s.format("无理数","3.1415926","...")
'圆周率(3.1415926...)是无理数'  #当调用format()时解析大括号
```

<br>

### 3.6.2 format()方法的格式控制
#### 1. 槽中格式控制标记的字段
|    :     |             <填充>              |             <对齐>              |      <宽度>      |                 <,>                  |                       <精度>                       |                   <类型>                   |
| :------: | :-----------------------------: | :-----------------------------: | :--------------: | :----------------------------------: | :------------------------------------------------: | :----------------------------------------: |
| 引导符号 | 用于填充的单个字符,例如:<br>*,- | <左对齐<br>>右对齐<br>^居中对齐 | 槽的设定输出宽度 | 数字千位分隔符<br>适用于整数和浮点数 | 浮点数小数部分的精度<br>或<br>字符串的最大输出长度 | 整数类型:b,c,d,o,x,X<br>浮点数类型:e,E,f,% |
#### 2. <宽度>,<对齐>和<填充>
- 例子:
```python
s = 'python'
>>>"{0:30}".format(s)  # 默认左对齐
>>>"{0:>30}".format(s)  # 右对齐
>>>"{0:*^30}".format(s)  # 居中且使用\*填充
>>>"{0:3}".format(s)
```

#### 3. <类型>
- 整数类型:
    1.b:输出整数的二进制方式
    2.c:输出整数对应的Unicode字符
    3.d:输出整数的十进制方式
    4.o:输出整数的八进制方式
    5.x:输出整数的小写十六进制方式
    6.X:输出整数的大写十六进制方式
- 例子:
```python
>>>"{0:b},{0:c},{0:d},{0:o},{0:x},{0:X}".format(425)
'110101001,Σ,425,651,1a9,1A9'
```

- 浮点数类型:
    1.e:输出浮点数对应的小写字母e的指数形式
    2.E:输出浮点数对应的大写字母E的指数形式
    3.f:输出浮点数的标准浮点形式
    4.%:输出浮点数的百分形式
- 例子:
```python
>>>"{0:.2e},{0:.2E},{0:.2f},{0:%}".format(3.14)
'3.14e+00,3.14E+00,3.14,314.00%'
```

<br>

## 3.7 实例4:文本进度条
### 3.7.1 简单的开始
实例代码4.1TextProgress Bar  
print()函数在输出结尾处自带"\n"(换行符),从而让光标自动移动到下一行行首,这样上一步输出依旧保留在界面上
- 代码:
```python 
import time
scale = 10
print("------执行开始------")
for i in range(scale + 1):
    a, b = '**' * i, '..' * (scale - i)
    c = (i / scale) * 100
    print("%{:^3.0f}[{}->{}]".format(c, a, b))
    time.sleep(0.1)
print("-----执行结束-----")
```

<br>

### 3.7.2 单行动态刷新
实例代码4.2TextProgress Bar  
print()函数中更换参数end的默认值为'',即每次使用print()函数输出时不换行;  
在字符串前增加转义符'\r',将指针移动到行首而不换行
- 代码:
```python
import time
for i in range(101):
    print("\r{:2}%".format(i), end='')
    time.sleep(0.05)
print("\r充能完毕")
```

<br>

### 3.7.3 带刷新的文本进度条
实例代码4.3TextProgress Bar
time.process_time()函数,主要用来统计程序运行时间;第一次调用时计时开始,第二次及后续调用时返回与第一次之间的时间差
- 代码:
```python
import time
scale = 50
print("执行开始".center(scale//2, '-'))
t = time.process_time()
for i in range(scale + 1):
    a = '*' * i
    b = '-' * (scale - i)
    c = (i / scale) * 100
    t -= time.process_time()
    print("\r{:^3.0f}%[{}->{}]{:.2f}s".format(c, a, b, -t), end='')
    time.sleep(0.05)
print("\n" + "执行结束".center(scale//2, '-'))
```
